# CMS使い方ガイド

## 🎯 概要

このCMS（コンテンツ管理システム）を使用すると、メインサイトの内容を簡単に更新できます。
編集内容はリアルタイムでサイトに反映されます。

## 🚀 はじめ方

### 1. ログイン

**URL**: `http://localhost/task/admin/login.php`

**初期ログイン情報**:
- ユーザー名: `admin`
- パスワード: `admin123`

⚠️ **重要**: 初回ログイン後は必ずパスワードを変更してください！

### 2. メインサイトを開く

メインサイト: `http://localhost/task/`

管理画面とメインサイトを両方開いておくと、編集内容がすぐに確認できます。

## 📝 機能の使い方

### スローガン管理

1. サイドバーから「スローガン管理」をクリック
2. 各曜日のスローガンを入力（日曜〜土曜の7つ）
3. 「保存」ボタンをクリック
4. メインサイトをリロードして確認

**使用例**:
- 1番目（日曜日）: 「安全運転を心がけましょう」
- 2番目（月曜日）: 「笑顔でお客様をお迎えしましょう」
- ...（全7つ）

### チェックリスト管理

1. 「チェックリスト管理」をクリック
2. 「新規追加」ボタンで項目を追加
3. タイトル、カテゴリ、チェック項目を入力
4. 「保存」をクリック

### 画像管理

1. 「画像管理」をクリック
2. 「画像をアップロード」ボタンをクリック
3. ファイルを選択（JPG, PNG, GIF対応、最大5MB）
4. アップロード完了後、URLをコピーして使用

### 設定・バックアップ

1. 「設定」をクリック
2. 「バックアップを作成」で手動バックアップ
3. データは `data/backups/` に自動保存されます

## 🔄 CMSとサイトの連動

### スローガンの連動

- CMSで編集したスローガンは `data/content.json` に保存
- メインサイトは API (`/task/api/get-content.php`) からデータを取得
- ページ読み込み時に自動的に最新データを表示

### リアルタイム反映の仕組み

1. CMS管理画面でスローガンを編集して保存
2. `data/content.json` ファイルが更新される
3. メインサイトをリロードすると、APIから最新データを取得
4. 新しいスローガンが表示される

## 💡 トラブルシューティング

### Q: 編集が反映されない

**A**: 以下を確認してください：
1. CMSで「保存」ボタンを押しましたか？
2. メインサイトをリロード（F5）しましたか？
3. ブラウザのキャッシュをクリアしてみてください

### Q: ログインできない

**A**: 
- ユーザー名: `admin`、パスワード: `admin123`を確認
- パスワードを変更した場合は、新しいパスワードを使用

### Q: APIエラーが出る

**A**:
1. XAMPPが起動しているか確認
2. `data/` ディレクトリに書き込み権限があるか確認
3. `api/get-content.php` ファイルが存在するか確認

### Q: 画像がアップロードできない

**A**:
1. ファイルサイズは5MB以下ですか？
2. 対応形式（JPG, PNG, GIF, SVG, WebP, PDF）ですか？
3. `uploads/` ディレクトリに書き込み権限がありますか？

## 🔒 セキュリティ

### パスワード変更方法

1. `config.php` を開く
2. 以下の行を編集：
```php
define('ADMIN_PASSWORD', password_hash('新しいパスワード', PASSWORD_BCRYPT));
```
3. 「新しいパスワード」部分を変更
4. ファイルを保存

### バックアップの重要性

- データは自動的にバックアップされます
- 重要な変更前は手動バックアップをおすすめします
- バックアップは `data/backups/` に保存されます

## 📚 データ構造

### content.json の構造

```json
{
  "slogans": [
    "日曜日のスローガン",
    "月曜日のスローガン",
    "火曜日のスローガン",
    "水曜日のスローガン",
    "木曜日のスローガン",
    "金曜日のスローガン",
    "土曜日のスローガン"
  ],
  "checklist": []
}
```

## ✅ チェックリスト：最初にやること

- [ ] ログインして管理画面を確認
- [ ] パスワードを変更（セキュリティのため）
- [ ] スローガンを7つ設定
- [ ] メインサイトで反映を確認
- [ ] バックアップを作成

## 📞 サポート

問題が解決しない場合は、README_CMS.mdも参照してください。
